<!DOCTYPE html><html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Linux Bangla Type v2.0 (Phone to PC)</title>  <!-- Tailwind CSS CDN -->  <script src="https://cdn.tailwindcss.com"></script>  <!-- Google Fonts -->  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali&display=swap" rel="stylesheet">  <!-- html2pdf.js for PDF export -->  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>  <style>
    body {
      font-family: 'Noto Sans Bengali', sans-serif;
    }
  </style></head><body class="min-h-screen bg-gray-100 text-gray-900">
  <div class="max-w-4xl mx-auto p-4">
    <h1 class="text-2xl font-bold text-center mb-4">Linux Bangla Type v2.0</h1><div class="flex flex-wrap gap-2 justify-center mb-4">
  <select id="languageSelect" class="p-2 border rounded">
    <option value="bn-BD">ржмрж╛ржВрж▓рж╛ (ржмрж╛ржВрж▓рж╛ржжрзЗрж╢)</option>
    <option value="en-US" selected>English (US)</option>
    <option value="hi-IN">рд╣рд┐рдиреНрджреА</option>
  </select>

  <button id="startBtn" class="px-4 py-2 bg-green-600 text-white rounded">ЁЯОд Start</button>
  <button id="stopBtn" class="px-4 py-2 bg-red-600 text-white rounded" disabled>тЫФ Stop</button>
  <button id="clearBtn" class="px-4 py-2 bg-gray-600 text-white rounded">ЁЯз╣ Clear</button>
  <button id="copyBtn" class="px-4 py-2 bg-blue-600 text-white rounded">ЁЯУЛ Copy</button>
</div>

<div class="mb-4">
  <button id="pushTalkBtn" class="w-full px-4 py-2 bg-purple-600 text-white rounded">ЁЯОЩя╕П Hold to Talk</button>
</div>

<textarea id="textArea" rows="10" class="w-full p-3 border rounded resize-none" placeholder="ржПржЦрж╛ржирзЗ ржХржерж╛ ржмрж▓рзБржи..."></textarea>
<p id="status" class="mt-2 text-sm text-gray-600"></p>

  </div>  <script>
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    const clearBtn = document.getElementById('clearBtn');
    const copyBtn = document.getElementById('copyBtn');
    const pushTalkBtn = document.getElementById('pushTalkBtn');
    const textArea = document.getElementById('textArea');
    const status = document.getElementById('status');
    const languageSelect = document.getElementById('languageSelect');

    let recognition;
    let recognizing = false;
    let finalTranscript = '';

    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
      status.textContent = 'тЪая╕П Chrome ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржЦрзБрж▓рзБржи, ржПржЯрж┐ voice typing рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗ ржирж╛ред';
      startBtn.disabled = true;
      pushTalkBtn.disabled = true;
    } else {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      recognition = new SpeechRecognition();
      recognition.continuous = true;
      recognition.interimResults = true;
      recognition.lang = languageSelect.value;

      recognition.onstart = () => {
        recognizing = true;
        status.textContent = 'ЁЯОЩя╕П ржЯрж╛ржЗржкрж┐ржВ ржЪрж▓ржЫрзЗ...';
        startBtn.disabled = true;
        stopBtn.disabled = false;
        languageSelect.disabled = true;
      };

      recognition.onerror = (event) => {
        status.textContent = 'тЭЧ Voice error: ' + event.error;
      };

      recognition.onend = () => {
        recognizing = false;
        status.textContent = 'тЫФ ржЯрж╛ржЗржкрж┐ржВ ржмржирзНржз рж╣ржпрж╝рзЗржЫрзЗ';
        startBtn.disabled = false;
        stopBtn.disabled = true;
        languageSelect.disabled = false;
      };

      recognition.onresult = (event) => {
        let interimTranscript = '';
        let newFinal = '';

        for (let i = event.resultIndex; i < event.results.length; ++i) {
          const transcript = event.results[i][0].transcript.trim();
          if (event.results[i].isFinal) {
            newFinal += transcript + ' ';
          } else {
            interimTranscript += transcript + ' ';
          }
        }

        if (newFinal && !finalTranscript.endsWith(newFinal)) {
          finalTranscript += newFinal;
        }

        textArea.value = finalTranscript + interimTranscript;
        textArea.scrollTop = textArea.scrollHeight;
      };
    }

    startBtn.addEventListener('click', () => {
      if (!recognizing) {
        finalTranscript = textArea.value;
        recognition.lang = languageSelect.value;
        recognition.start();
      }
    });

    stopBtn.addEventListener('click', () => {
      if (recognizing) recognition.stop();
    });

    clearBtn.addEventListener('click', () => {
      if (recognizing) recognition.stop();
      textArea.value = '';
      finalTranscript = '';
      status.textContent = '';
    });

    copyBtn.addEventListener('click', () => {
      textArea.select();
      document.execCommand('copy');
      status.textContent = 'тЬЕ ржХржкрж┐ рж╣ржпрж╝рзЗ ржЧрзЗржЫрзЗ!';
      setTimeout(() => status.textContent = '', 1500);
    });

    languageSelect.addEventListener('change', () => {
      if (recognizing) recognition.stop();
      recognition.lang = languageSelect.value;
    });

    // Push-to-Talk functionality
    pushTalkBtn.addEventListener('mousedown', () => {
      if (!recognizing) {
        finalTranscript = textArea.value;
        recognition.lang = languageSelect.value;
        recognition.start();
      }
    });

    pushTalkBtn.addEventListener('mouseup', () => {
      if (recognizing) recognition.stop();
    });

    pushTalkBtn.addEventListener('touchstart', (e) => {
      e.preventDefault();
      if (!recognizing) {
        finalTranscript = textArea.value;
        recognition.lang = languageSelect.value;
        recognition.start();
      }
    });

    pushTalkBtn.addEventListener('touchend', (e) => {
      e.preventDefault();
      if (recognizing) recognition.stop();
    });
  </script></body>
</html>
